{"ast":null,"code":"var _jsxFileName = \"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport Loading from './Loading';\nimport logo from '../images/logo.png';\nimport styles from './Login.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      inputName: '',\n      buttonIsDisabled: true,\n      isLoading: false,\n      redirectToSearch: false\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      const num = 3;\n      this.setState({\n        [name]: value\n      }, () => {\n        if (value.length >= num) {\n          this.setState({\n            buttonIsDisabled: false\n          });\n        } else {\n          this.setState({\n            buttonIsDisabled: true\n          });\n        }\n      });\n    };\n\n    this.pushEnter = async () => {\n      const {\n        inputName\n      } = this.state;\n      this.setState({\n        isLoading: true\n      });\n      await createUser({\n        name: inputName\n      });\n      this.setState({\n        redirectToSearch: true\n      });\n    };\n  }\n\n  render() {\n    const {\n      inputName,\n      buttonIsDisabled,\n      isLoading,\n      redirectToSearch\n    } = this.state;\n\n    const form = /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-login\",\n      className: ty,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"logo trybeTunes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"inputName\",\n            type: \"name\",\n            \"data-testid\": \"login-name-input\",\n            onChange: this.handleChange,\n            value: inputName,\n            placeholder: \"qual \\xE9 o seu nome?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-testid\": \"login-submit-button\",\n          onClick: this.pushEnter,\n          disabled: buttonIsDisabled,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-page\",\n      children: [isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 23\n      }, this) : form, redirectToSearch && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","Component","Redirect","createUser","Loading","logo","styles","Login","state","inputName","buttonIsDisabled","isLoading","redirectToSearch","handleChange","target","name","value","num","setState","length","pushEnter","render","form","ty"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Login.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport Loading from './Loading';\nimport logo from '../images/logo.png';\nimport styles from './Login.module.css';\n\nclass Login extends Component {\n  state = {\n    inputName: '',\n    buttonIsDisabled: true,\n    isLoading: false,\n    redirectToSearch: false,\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    const num = 3;\n    this.setState({\n      [name]: value,\n    }, () => {\n      if (value.length >= num) {\n        this.setState({\n          buttonIsDisabled: false,\n        });\n      } else {\n        this.setState({\n          buttonIsDisabled: true,\n        });\n      }\n    });\n  };\n\n  pushEnter = async () => {\n    const { inputName } = this.state;\n    this.setState({\n      isLoading: true,\n    });\n    await createUser({ name: inputName });\n    this.setState({\n      redirectToSearch: true,\n    });\n  };\n\n  render() {\n    const { inputName, buttonIsDisabled, isLoading, redirectToSearch } = this.state;\n    const form = (\n      <div data-testid=\"page-login\" className={ty}>\n        <img src={ logo } alt=\"logo trybeTunes\" />\n        <form>\n          <label htmlFor=\"name\">\n            <input\n              name=\"inputName\"\n              type=\"name\"\n              data-testid=\"login-name-input\"\n              onChange={ this.handleChange }\n              value={ inputName }\n              placeholder=\"qual Ã© o seu nome?\"\n            />\n          </label>\n          <button\n            type=\"button\"\n            data-testid=\"login-submit-button\"\n            onClick={ this.pushEnter }\n            disabled={ buttonIsDisabled }\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n\n    return (\n      <div className=\"login-page\">\n        { isLoading ? <Loading /> : form }\n        {\n          redirectToSearch && <Redirect to=\"/search\" />\n        }\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;;;AAEA,MAAMC,KAAN,SAAoBN,SAApB,CAA8B;EAAA;IAAA;IAAA,KAC5BO,KAD4B,GACpB;MACNC,SAAS,EAAE,EADL;MAENC,gBAAgB,EAAE,IAFZ;MAGNC,SAAS,EAAE,KAHL;MAINC,gBAAgB,EAAE;IAJZ,CADoB;;IAAA,KAQ5BC,YAR4B,GAQb,QAAgB;MAAA,IAAf;QAAEC;MAAF,CAAe;MAC7B,MAAM;QAAEC,IAAF;QAAQC;MAAR,IAAkBF,MAAxB;MACA,MAAMG,GAAG,GAAG,CAAZ;MACA,KAAKC,QAAL,CAAc;QACZ,CAACH,IAAD,GAAQC;MADI,CAAd,EAEG,MAAM;QACP,IAAIA,KAAK,CAACG,MAAN,IAAgBF,GAApB,EAAyB;UACvB,KAAKC,QAAL,CAAc;YACZR,gBAAgB,EAAE;UADN,CAAd;QAGD,CAJD,MAIO;UACL,KAAKQ,QAAL,CAAc;YACZR,gBAAgB,EAAE;UADN,CAAd;QAGD;MACF,CAZD;IAaD,CAxB2B;;IAAA,KA0B5BU,SA1B4B,GA0BhB,YAAY;MACtB,MAAM;QAAEX;MAAF,IAAgB,KAAKD,KAA3B;MACA,KAAKU,QAAL,CAAc;QACZP,SAAS,EAAE;MADC,CAAd;MAGA,MAAMR,UAAU,CAAC;QAAEY,IAAI,EAAEN;MAAR,CAAD,CAAhB;MACA,KAAKS,QAAL,CAAc;QACZN,gBAAgB,EAAE;MADN,CAAd;IAGD,CAnC2B;EAAA;;EAqC5BS,MAAM,GAAG;IACP,MAAM;MAAEZ,SAAF;MAAaC,gBAAb;MAA+BC,SAA/B;MAA0CC;IAA1C,IAA+D,KAAKJ,KAA1E;;IACA,MAAMc,IAAI,gBACR;MAAK,eAAY,YAAjB;MAA8B,SAAS,EAAEC,EAAzC;MAAA,wBACE;QAAK,GAAG,EAAGlB,IAAX;QAAkB,GAAG,EAAC;MAAtB;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,wBACE;UAAO,OAAO,EAAC,MAAf;UAAA,uBACE;YACE,IAAI,EAAC,WADP;YAEE,IAAI,EAAC,MAFP;YAGE,eAAY,kBAHd;YAIE,QAAQ,EAAG,KAAKQ,YAJlB;YAKE,KAAK,EAAGJ,SALV;YAME,WAAW,EAAC;UANd;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAWE;UACE,IAAI,EAAC,QADP;UAEE,eAAY,qBAFd;UAGE,OAAO,EAAG,KAAKW,SAHjB;UAIE,QAAQ,EAAGV,gBAJb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAXF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;;IA0BA,oBACE;MAAK,SAAS,EAAC,YAAf;MAAA,WACIC,SAAS,gBAAG,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QAAH,GAAiBW,IAD9B,EAGIV,gBAAgB,iBAAI,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA,QAHxB;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAQD;;AAzE2B;;AA4E9B,eAAeL,KAAf"},"metadata":{},"sourceType":"module"}