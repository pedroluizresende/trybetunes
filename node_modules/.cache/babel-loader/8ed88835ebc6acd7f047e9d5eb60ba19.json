{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\n\nconst fsStat = require(\"@nodelib/fs.stat\");\n\nconst rpl = require(\"run-parallel\");\n\nconst constants_1 = require(\"../constants\");\n\nconst utils = require(\"../utils\");\n\nconst common = require(\"./common\");\n\nfunction read(directory, settings, callback) {\n  if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\n    readdirWithFileTypes(directory, settings, callback);\n    return;\n  }\n\n  readdir(directory, settings, callback);\n}\n\nexports.read = read;\n\nfunction readdirWithFileTypes(directory, settings, callback) {\n  settings.fs.readdir(directory, {\n    withFileTypes: true\n  }, (readdirError, dirents) => {\n    if (readdirError !== null) {\n      callFailureCallback(callback, readdirError);\n      return;\n    }\n\n    const entries = dirents.map(dirent => ({\n      dirent,\n      name: dirent.name,\n      path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\n    }));\n\n    if (!settings.followSymbolicLinks) {\n      callSuccessCallback(callback, entries);\n      return;\n    }\n\n    const tasks = entries.map(entry => makeRplTaskEntry(entry, settings));\n    rpl(tasks, (rplError, rplEntries) => {\n      if (rplError !== null) {\n        callFailureCallback(callback, rplError);\n        return;\n      }\n\n      callSuccessCallback(callback, rplEntries);\n    });\n  });\n}\n\nexports.readdirWithFileTypes = readdirWithFileTypes;\n\nfunction makeRplTaskEntry(entry, settings) {\n  return done => {\n    if (!entry.dirent.isSymbolicLink()) {\n      done(null, entry);\n      return;\n    }\n\n    settings.fs.stat(entry.path, (statError, stats) => {\n      if (statError !== null) {\n        if (settings.throwErrorOnBrokenSymbolicLink) {\n          done(statError);\n          return;\n        }\n\n        done(null, entry);\n        return;\n      }\n\n      entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\n      done(null, entry);\n    });\n  };\n}\n\nfunction readdir(directory, settings, callback) {\n  settings.fs.readdir(directory, (readdirError, names) => {\n    if (readdirError !== null) {\n      callFailureCallback(callback, readdirError);\n      return;\n    }\n\n    const tasks = names.map(name => {\n      const path = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\n      return done => {\n        fsStat.stat(path, settings.fsStatSettings, (error, stats) => {\n          if (error !== null) {\n            done(error);\n            return;\n          }\n\n          const entry = {\n            name,\n            path,\n            dirent: utils.fs.createDirentFromStats(name, stats)\n          };\n\n          if (settings.stats) {\n            entry.stats = stats;\n          }\n\n          done(null, entry);\n        });\n      };\n    });\n    rpl(tasks, (rplError, entries) => {\n      if (rplError !== null) {\n        callFailureCallback(callback, rplError);\n        return;\n      }\n\n      callSuccessCallback(callback, entries);\n    });\n  });\n}\n\nexports.readdir = readdir;\n\nfunction callFailureCallback(callback, error) {\n  callback(error);\n}\n\nfunction callSuccessCallback(callback, result) {\n  callback(null, result);\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","readdir","readdirWithFileTypes","read","fsStat","require","rpl","constants_1","utils","common","directory","settings","callback","stats","IS_SUPPORT_READDIR_WITH_FILE_TYPES","fs","withFileTypes","readdirError","dirents","callFailureCallback","entries","map","dirent","name","path","joinPathSegments","pathSegmentSeparator","followSymbolicLinks","callSuccessCallback","tasks","entry","makeRplTaskEntry","rplError","rplEntries","done","isSymbolicLink","stat","statError","throwErrorOnBrokenSymbolicLink","createDirentFromStats","names","fsStatSettings","error","result"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@nodelib/fs.scandir/out/providers/async.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst rpl = require(\"run-parallel\");\nconst constants_1 = require(\"../constants\");\nconst utils = require(\"../utils\");\nconst common = require(\"./common\");\nfunction read(directory, settings, callback) {\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\n        readdirWithFileTypes(directory, settings, callback);\n        return;\n    }\n    readdir(directory, settings, callback);\n}\nexports.read = read;\nfunction readdirWithFileTypes(directory, settings, callback) {\n    settings.fs.readdir(directory, { withFileTypes: true }, (readdirError, dirents) => {\n        if (readdirError !== null) {\n            callFailureCallback(callback, readdirError);\n            return;\n        }\n        const entries = dirents.map((dirent) => ({\n            dirent,\n            name: dirent.name,\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\n        }));\n        if (!settings.followSymbolicLinks) {\n            callSuccessCallback(callback, entries);\n            return;\n        }\n        const tasks = entries.map((entry) => makeRplTaskEntry(entry, settings));\n        rpl(tasks, (rplError, rplEntries) => {\n            if (rplError !== null) {\n                callFailureCallback(callback, rplError);\n                return;\n            }\n            callSuccessCallback(callback, rplEntries);\n        });\n    });\n}\nexports.readdirWithFileTypes = readdirWithFileTypes;\nfunction makeRplTaskEntry(entry, settings) {\n    return (done) => {\n        if (!entry.dirent.isSymbolicLink()) {\n            done(null, entry);\n            return;\n        }\n        settings.fs.stat(entry.path, (statError, stats) => {\n            if (statError !== null) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    done(statError);\n                    return;\n                }\n                done(null, entry);\n                return;\n            }\n            entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\n            done(null, entry);\n        });\n    };\n}\nfunction readdir(directory, settings, callback) {\n    settings.fs.readdir(directory, (readdirError, names) => {\n        if (readdirError !== null) {\n            callFailureCallback(callback, readdirError);\n            return;\n        }\n        const tasks = names.map((name) => {\n            const path = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\n            return (done) => {\n                fsStat.stat(path, settings.fsStatSettings, (error, stats) => {\n                    if (error !== null) {\n                        done(error);\n                        return;\n                    }\n                    const entry = {\n                        name,\n                        path,\n                        dirent: utils.fs.createDirentFromStats(name, stats)\n                    };\n                    if (settings.stats) {\n                        entry.stats = stats;\n                    }\n                    done(null, entry);\n                });\n            };\n        });\n        rpl(tasks, (rplError, entries) => {\n            if (rplError !== null) {\n                callFailureCallback(callback, rplError);\n                return;\n            }\n            callSuccessCallback(callback, entries);\n        });\n    });\n}\nexports.readdir = readdir;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, result) {\n    callback(null, result);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}