{"ast":null,"code":"var _jsxFileName = \"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Search.jsx\";\nimport React, { Component } from 'react';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport CardAlbum from '../components/CardAlbum';\nimport styles from './Search.module.css';\nimport Loading from './Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isDisabledButtton: true,\n      searchInput: '',\n      albuns: [],\n      artistName: '',\n      isLoading: false\n    };\n\n    this.handleChangle = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, () => {\n        if (value.length >= 2) {\n          this.setState({\n            isDisabledButtton: false\n          });\n        } else {\n          this.setState({\n            isDisabledButtton: true\n          });\n        }\n      });\n    };\n\n    this.searching = async () => {\n      const {\n        searchInput\n      } = this.state;\n      this.setState({\n        searchInput: '',\n        albuns: [],\n        artistName: searchInput,\n        isLoading: true\n      });\n      const fetchAlbuns = await searchAlbumsAPI(searchInput);\n      this.setState({\n        albuns: fetchAlbuns\n      });\n    };\n  }\n\n  render() {\n    const {\n      isDisabledButtton,\n      searchInput,\n      albuns,\n      artistName,\n      isLoading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: styles.search,\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: styles.searchForm,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"search-artist-input\",\n            name: \"searchInput\",\n            value: searchInput,\n            onChange: this.handleChangle,\n            placeholder: \"digite a sua pesquisa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"data-testid\": \"search-artist-button\",\n            disabled: isDisabledButtton,\n            onClick: this.searching,\n            children: \"Pesquisar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: styles.albumsSection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"names":["React","Component","Header","searchAlbumsAPI","CardAlbum","styles","Loading","Search","state","isDisabledButtton","searchInput","albuns","artistName","isLoading","handleChangle","target","name","value","setState","length","searching","fetchAlbuns","render","container","search","searchForm","albumsSection"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Search.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport CardAlbum from '../components/CardAlbum';\nimport styles from './Search.module.css';\nimport Loading from './Loading';\n\nclass Search extends Component {\n  state = {\n    isDisabledButtton: true,\n    searchInput: '',\n    albuns : [],\n    artistName: '',\n    isLoading: false,\n  };\n\n  handleChangle = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, () => {\n      if (value.length >= 2) {\n        this.setState({\n          isDisabledButtton: false,\n        });\n      } else {\n        this.setState({\n          isDisabledButtton: true,\n        });\n      }\n    });\n  };\n\n  searching = async () => {\n    const { searchInput } = this.state;\n    this.setState({\n      searchInput: '',\n      albuns: [],\n      artistName: searchInput,\n      isLoading: true,\n    });\n    const fetchAlbuns = await searchAlbumsAPI(searchInput);\n    this.setState({\n      albuns: fetchAlbuns,\n    });\n  };\n\n  render() {\n    const { isDisabledButtton, searchInput, albuns, artistName, isLoading } = this.state;\n    return (\n      <div data-testid=\"page-search\" className={ styles.container }>\n        <Header />\n        <main className={ styles.search }>\n          <form className={ styles.searchForm }>\n            <input\n              type=\"text\"\n              data-testid=\"search-artist-input\"\n              name=\"searchInput\"\n              value={ searchInput }\n              onChange={ this.handleChangle }\n              placeholder=\"digite a sua pesquisa\"\n            />\n            <button\n              type=\"button\"\n              data-testid=\"search-artist-button\"\n              disabled={ isDisabledButtton }\n              onClick={ this.searching }\n            >\n              Pesquisar\n            </button>\n          </form>\n          <section className={ styles.albumsSection }>\n            \n          </section>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAEA,MAAMC,MAAN,SAAqBN,SAArB,CAA+B;EAAA;IAAA;IAAA,KAC7BO,KAD6B,GACrB;MACNC,iBAAiB,EAAE,IADb;MAENC,WAAW,EAAE,EAFP;MAGNC,MAAM,EAAG,EAHH;MAINC,UAAU,EAAE,EAJN;MAKNC,SAAS,EAAE;IALL,CADqB;;IAAA,KAS7BC,aAT6B,GASb,QAAgB;MAAA,IAAf;QAAEC;MAAF,CAAe;MAC9B,MAAM;QAAEC,IAAF;QAAQC;MAAR,IAAkBF,MAAxB;MACA,KAAKG,QAAL,CAAc;QACZ,CAACF,IAAD,GAAQC;MADI,CAAd,EAEG,MAAM;QACP,IAAIA,KAAK,CAACE,MAAN,IAAgB,CAApB,EAAuB;UACrB,KAAKD,QAAL,CAAc;YACZT,iBAAiB,EAAE;UADP,CAAd;QAGD,CAJD,MAIO;UACL,KAAKS,QAAL,CAAc;YACZT,iBAAiB,EAAE;UADP,CAAd;QAGD;MACF,CAZD;IAaD,CAxB4B;;IAAA,KA0B7BW,SA1B6B,GA0BjB,YAAY;MACtB,MAAM;QAAEV;MAAF,IAAkB,KAAKF,KAA7B;MACA,KAAKU,QAAL,CAAc;QACZR,WAAW,EAAE,EADD;QAEZC,MAAM,EAAE,EAFI;QAGZC,UAAU,EAAEF,WAHA;QAIZG,SAAS,EAAE;MAJC,CAAd;MAMA,MAAMQ,WAAW,GAAG,MAAMlB,eAAe,CAACO,WAAD,CAAzC;MACA,KAAKQ,QAAL,CAAc;QACZP,MAAM,EAAEU;MADI,CAAd;IAGD,CAtC4B;EAAA;;EAwC7BC,MAAM,GAAG;IACP,MAAM;MAAEb,iBAAF;MAAqBC,WAArB;MAAkCC,MAAlC;MAA0CC,UAA1C;MAAsDC;IAAtD,IAAoE,KAAKL,KAA/E;IACA,oBACE;MAAK,eAAY,aAAjB;MAA+B,SAAS,EAAGH,MAAM,CAACkB,SAAlD;MAAA,wBACE,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAM,SAAS,EAAGlB,MAAM,CAACmB,MAAzB;QAAA,wBACE;UAAM,SAAS,EAAGnB,MAAM,CAACoB,UAAzB;UAAA,wBACE;YACE,IAAI,EAAC,MADP;YAEE,eAAY,qBAFd;YAGE,IAAI,EAAC,aAHP;YAIE,KAAK,EAAGf,WAJV;YAKE,QAAQ,EAAG,KAAKI,aALlB;YAME,WAAW,EAAC;UANd;YAAA;YAAA;YAAA;UAAA,QADF,eASE;YACE,IAAI,EAAC,QADP;YAEE,eAAY,sBAFd;YAGE,QAAQ,EAAGL,iBAHb;YAIE,OAAO,EAAG,KAAKW,SAJjB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QATF;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAmBE;UAAS,SAAS,EAAGf,MAAM,CAACqB;QAA5B;UAAA;UAAA;UAAA;QAAA,QAnBF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EA4BD;;AAtE4B;;AAyE/B,eAAenB,MAAf"},"metadata":{},"sourceType":"module"}