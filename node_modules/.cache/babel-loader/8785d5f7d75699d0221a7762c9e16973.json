{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst fsScandir = require(\"@nodelib/fs.scandir\");\n\nconst common = require(\"./common\");\n\nconst reader_1 = require(\"./reader\");\n\nclass SyncReader extends reader_1.default {\n  constructor() {\n    super(...arguments);\n    this._scandir = fsScandir.scandirSync;\n    this._storage = [];\n    this._queue = new Set();\n  }\n\n  read() {\n    this._pushToQueue(this._root, this._settings.basePath);\n\n    this._handleQueue();\n\n    return this._storage;\n  }\n\n  _pushToQueue(directory, base) {\n    this._queue.add({\n      directory,\n      base\n    });\n  }\n\n  _handleQueue() {\n    for (const item of this._queue.values()) {\n      this._handleDirectory(item.directory, item.base);\n    }\n  }\n\n  _handleDirectory(directory, base) {\n    try {\n      const entries = this._scandir(directory, this._settings.fsScandirSettings);\n\n      for (const entry of entries) {\n        this._handleEntry(entry, base);\n      }\n    } catch (error) {\n      this._handleError(error);\n    }\n  }\n\n  _handleError(error) {\n    if (!common.isFatalError(this._settings, error)) {\n      return;\n    }\n\n    throw error;\n  }\n\n  _handleEntry(entry, base) {\n    const fullpath = entry.path;\n\n    if (base !== undefined) {\n      entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n    }\n\n    if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n      this._pushToStorage(entry);\n    }\n\n    if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n      this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n    }\n  }\n\n  _pushToStorage(entry) {\n    this._storage.push(entry);\n  }\n\n}\n\nexports.default = SyncReader;","map":{"version":3,"names":["Object","defineProperty","exports","value","fsScandir","require","common","reader_1","SyncReader","default","constructor","arguments","_scandir","scandirSync","_storage","_queue","Set","read","_pushToQueue","_root","_settings","basePath","_handleQueue","directory","base","add","item","values","_handleDirectory","entries","fsScandirSettings","entry","_handleEntry","error","_handleError","isFatalError","fullpath","path","undefined","joinPathSegments","name","pathSegmentSeparator","isAppliedFilter","entryFilter","_pushToStorage","dirent","isDirectory","deepFilter","push"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@nodelib/fs.walk/out/readers/sync.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nconst common = require(\"./common\");\nconst reader_1 = require(\"./reader\");\nclass SyncReader extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._scandir = fsScandir.scandirSync;\n        this._storage = [];\n        this._queue = new Set();\n    }\n    read() {\n        this._pushToQueue(this._root, this._settings.basePath);\n        this._handleQueue();\n        return this._storage;\n    }\n    _pushToQueue(directory, base) {\n        this._queue.add({ directory, base });\n    }\n    _handleQueue() {\n        for (const item of this._queue.values()) {\n            this._handleDirectory(item.directory, item.base);\n        }\n    }\n    _handleDirectory(directory, base) {\n        try {\n            const entries = this._scandir(directory, this._settings.fsScandirSettings);\n            for (const entry of entries) {\n                this._handleEntry(entry, base);\n            }\n        }\n        catch (error) {\n            this._handleError(error);\n        }\n    }\n    _handleError(error) {\n        if (!common.isFatalError(this._settings, error)) {\n            return;\n        }\n        throw error;\n    }\n    _handleEntry(entry, base) {\n        const fullpath = entry.path;\n        if (base !== undefined) {\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n        }\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n            this._pushToStorage(entry);\n        }\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n        }\n    }\n    _pushToStorage(entry) {\n        this._storage.push(entry);\n    }\n}\nexports.default = SyncReader;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,qBAAD,CAAzB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMG,UAAN,SAAyBD,QAAQ,CAACE,OAAlC,CAA0C;EACtCC,WAAW,GAAG;IACV,MAAM,GAAGC,SAAT;IACA,KAAKC,QAAL,GAAgBR,SAAS,CAACS,WAA1B;IACA,KAAKC,QAAL,GAAgB,EAAhB;IACA,KAAKC,MAAL,GAAc,IAAIC,GAAJ,EAAd;EACH;;EACDC,IAAI,GAAG;IACH,KAAKC,YAAL,CAAkB,KAAKC,KAAvB,EAA8B,KAAKC,SAAL,CAAeC,QAA7C;;IACA,KAAKC,YAAL;;IACA,OAAO,KAAKR,QAAZ;EACH;;EACDI,YAAY,CAACK,SAAD,EAAYC,IAAZ,EAAkB;IAC1B,KAAKT,MAAL,CAAYU,GAAZ,CAAgB;MAAEF,SAAF;MAAaC;IAAb,CAAhB;EACH;;EACDF,YAAY,GAAG;IACX,KAAK,MAAMI,IAAX,IAAmB,KAAKX,MAAL,CAAYY,MAAZ,EAAnB,EAAyC;MACrC,KAAKC,gBAAL,CAAsBF,IAAI,CAACH,SAA3B,EAAsCG,IAAI,CAACF,IAA3C;IACH;EACJ;;EACDI,gBAAgB,CAACL,SAAD,EAAYC,IAAZ,EAAkB;IAC9B,IAAI;MACA,MAAMK,OAAO,GAAG,KAAKjB,QAAL,CAAcW,SAAd,EAAyB,KAAKH,SAAL,CAAeU,iBAAxC,CAAhB;;MACA,KAAK,MAAMC,KAAX,IAAoBF,OAApB,EAA6B;QACzB,KAAKG,YAAL,CAAkBD,KAAlB,EAAyBP,IAAzB;MACH;IACJ,CALD,CAMA,OAAOS,KAAP,EAAc;MACV,KAAKC,YAAL,CAAkBD,KAAlB;IACH;EACJ;;EACDC,YAAY,CAACD,KAAD,EAAQ;IAChB,IAAI,CAAC3B,MAAM,CAAC6B,YAAP,CAAoB,KAAKf,SAAzB,EAAoCa,KAApC,CAAL,EAAiD;MAC7C;IACH;;IACD,MAAMA,KAAN;EACH;;EACDD,YAAY,CAACD,KAAD,EAAQP,IAAR,EAAc;IACtB,MAAMY,QAAQ,GAAGL,KAAK,CAACM,IAAvB;;IACA,IAAIb,IAAI,KAAKc,SAAb,EAAwB;MACpBP,KAAK,CAACM,IAAN,GAAa/B,MAAM,CAACiC,gBAAP,CAAwBf,IAAxB,EAA8BO,KAAK,CAACS,IAApC,EAA0C,KAAKpB,SAAL,CAAeqB,oBAAzD,CAAb;IACH;;IACD,IAAInC,MAAM,CAACoC,eAAP,CAAuB,KAAKtB,SAAL,CAAeuB,WAAtC,EAAmDZ,KAAnD,CAAJ,EAA+D;MAC3D,KAAKa,cAAL,CAAoBb,KAApB;IACH;;IACD,IAAIA,KAAK,CAACc,MAAN,CAAaC,WAAb,MAA8BxC,MAAM,CAACoC,eAAP,CAAuB,KAAKtB,SAAL,CAAe2B,UAAtC,EAAkDhB,KAAlD,CAAlC,EAA4F;MACxF,KAAKb,YAAL,CAAkBkB,QAAlB,EAA4BZ,IAAI,KAAKc,SAAT,GAAqBA,SAArB,GAAiCP,KAAK,CAACM,IAAnE;IACH;EACJ;;EACDO,cAAc,CAACb,KAAD,EAAQ;IAClB,KAAKjB,QAAL,CAAckC,IAAd,CAAmBjB,KAAnB;EACH;;AAnDqC;;AAqD1C7B,OAAO,CAACO,OAAR,GAAkBD,UAAlB"},"metadata":{},"sourceType":"script"}