{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst stream_1 = require(\"stream\");\n\nconst async_1 = require(\"../readers/async\");\n\nclass StreamProvider {\n  constructor(_root, _settings) {\n    this._root = _root;\n    this._settings = _settings;\n    this._reader = new async_1.default(this._root, this._settings);\n    this._stream = new stream_1.Readable({\n      objectMode: true,\n      read: () => {},\n      destroy: () => {\n        if (!this._reader.isDestroyed) {\n          this._reader.destroy();\n        }\n      }\n    });\n  }\n\n  read() {\n    this._reader.onError(error => {\n      this._stream.emit('error', error);\n    });\n\n    this._reader.onEntry(entry => {\n      this._stream.push(entry);\n    });\n\n    this._reader.onEnd(() => {\n      this._stream.push(null);\n    });\n\n    this._reader.read();\n\n    return this._stream;\n  }\n\n}\n\nexports.default = StreamProvider;","map":{"version":3,"names":["Object","defineProperty","exports","value","stream_1","require","async_1","StreamProvider","constructor","_root","_settings","_reader","default","_stream","Readable","objectMode","read","destroy","isDestroyed","onError","error","emit","onEntry","entry","push","onEnd"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@nodelib/fs.walk/out/providers/stream.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst async_1 = require(\"../readers/async\");\nclass StreamProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new async_1.default(this._root, this._settings);\n        this._stream = new stream_1.Readable({\n            objectMode: true,\n            read: () => { },\n            destroy: () => {\n                if (!this._reader.isDestroyed) {\n                    this._reader.destroy();\n                }\n            }\n        });\n    }\n    read() {\n        this._reader.onError((error) => {\n            this._stream.emit('error', error);\n        });\n        this._reader.onEntry((entry) => {\n            this._stream.push(entry);\n        });\n        this._reader.onEnd(() => {\n            this._stream.push(null);\n        });\n        this._reader.read();\n        return this._stream;\n    }\n}\nexports.default = StreamProvider;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,QAAD,CAAxB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,kBAAD,CAAvB;;AACA,MAAME,cAAN,CAAqB;EACjBC,WAAW,CAACC,KAAD,EAAQC,SAAR,EAAmB;IAC1B,KAAKD,KAAL,GAAaA,KAAb;IACA,KAAKC,SAAL,GAAiBA,SAAjB;IACA,KAAKC,OAAL,GAAe,IAAIL,OAAO,CAACM,OAAZ,CAAoB,KAAKH,KAAzB,EAAgC,KAAKC,SAArC,CAAf;IACA,KAAKG,OAAL,GAAe,IAAIT,QAAQ,CAACU,QAAb,CAAsB;MACjCC,UAAU,EAAE,IADqB;MAEjCC,IAAI,EAAE,MAAM,CAAG,CAFkB;MAGjCC,OAAO,EAAE,MAAM;QACX,IAAI,CAAC,KAAKN,OAAL,CAAaO,WAAlB,EAA+B;UAC3B,KAAKP,OAAL,CAAaM,OAAb;QACH;MACJ;IAPgC,CAAtB,CAAf;EASH;;EACDD,IAAI,GAAG;IACH,KAAKL,OAAL,CAAaQ,OAAb,CAAsBC,KAAD,IAAW;MAC5B,KAAKP,OAAL,CAAaQ,IAAb,CAAkB,OAAlB,EAA2BD,KAA3B;IACH,CAFD;;IAGA,KAAKT,OAAL,CAAaW,OAAb,CAAsBC,KAAD,IAAW;MAC5B,KAAKV,OAAL,CAAaW,IAAb,CAAkBD,KAAlB;IACH,CAFD;;IAGA,KAAKZ,OAAL,CAAac,KAAb,CAAmB,MAAM;MACrB,KAAKZ,OAAL,CAAaW,IAAb,CAAkB,IAAlB;IACH,CAFD;;IAGA,KAAKb,OAAL,CAAaK,IAAb;;IACA,OAAO,KAAKH,OAAZ;EACH;;AA3BgB;;AA6BrBX,OAAO,CAACU,OAAR,GAAkBL,cAAlB"},"metadata":{},"sourceType":"script"}