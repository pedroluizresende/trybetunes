{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst stream_1 = require(\"stream\");\n\nconst fsStat = require(\"@nodelib/fs.stat\");\n\nconst fsWalk = require(\"@nodelib/fs.walk\");\n\nconst reader_1 = require(\"./reader\");\n\nclass ReaderStream extends reader_1.default {\n  constructor() {\n    super(...arguments);\n    this._walkStream = fsWalk.walkStream;\n    this._stat = fsStat.stat;\n  }\n\n  dynamic(root, options) {\n    return this._walkStream(root, options);\n  }\n\n  static(patterns, options) {\n    const filepaths = patterns.map(this._getFullEntryPath, this);\n    const stream = new stream_1.PassThrough({\n      objectMode: true\n    });\n\n    stream._write = (index, _enc, done) => {\n      return this._getEntry(filepaths[index], patterns[index], options).then(entry => {\n        if (entry !== null && options.entryFilter(entry)) {\n          stream.push(entry);\n        }\n\n        if (index === filepaths.length - 1) {\n          stream.end();\n        }\n\n        done();\n      }).catch(done);\n    };\n\n    for (let i = 0; i < filepaths.length; i++) {\n      stream.write(i);\n    }\n\n    return stream;\n  }\n\n  _getEntry(filepath, pattern, options) {\n    return this._getStat(filepath).then(stats => this._makeEntry(stats, pattern)).catch(error => {\n      if (options.errorFilter(error)) {\n        return null;\n      }\n\n      throw error;\n    });\n  }\n\n  _getStat(filepath) {\n    return new Promise((resolve, reject) => {\n      this._stat(filepath, this._fsStatSettings, (error, stats) => {\n        return error === null ? resolve(stats) : reject(error);\n      });\n    });\n  }\n\n}\n\nexports.default = ReaderStream;","map":{"version":3,"names":["Object","defineProperty","exports","value","stream_1","require","fsStat","fsWalk","reader_1","ReaderStream","default","constructor","arguments","_walkStream","walkStream","_stat","stat","dynamic","root","options","static","patterns","filepaths","map","_getFullEntryPath","stream","PassThrough","objectMode","_write","index","_enc","done","_getEntry","then","entry","entryFilter","push","length","end","catch","i","write","filepath","pattern","_getStat","stats","_makeEntry","error","errorFilter","Promise","resolve","reject","_fsStatSettings"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/fast-glob/out/readers/stream.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst fsWalk = require(\"@nodelib/fs.walk\");\nconst reader_1 = require(\"./reader\");\nclass ReaderStream extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._walkStream = fsWalk.walkStream;\n        this._stat = fsStat.stat;\n    }\n    dynamic(root, options) {\n        return this._walkStream(root, options);\n    }\n    static(patterns, options) {\n        const filepaths = patterns.map(this._getFullEntryPath, this);\n        const stream = new stream_1.PassThrough({ objectMode: true });\n        stream._write = (index, _enc, done) => {\n            return this._getEntry(filepaths[index], patterns[index], options)\n                .then((entry) => {\n                if (entry !== null && options.entryFilter(entry)) {\n                    stream.push(entry);\n                }\n                if (index === filepaths.length - 1) {\n                    stream.end();\n                }\n                done();\n            })\n                .catch(done);\n        };\n        for (let i = 0; i < filepaths.length; i++) {\n            stream.write(i);\n        }\n        return stream;\n    }\n    _getEntry(filepath, pattern, options) {\n        return this._getStat(filepath)\n            .then((stats) => this._makeEntry(stats, pattern))\n            .catch((error) => {\n            if (options.errorFilter(error)) {\n                return null;\n            }\n            throw error;\n        });\n    }\n    _getStat(filepath) {\n        return new Promise((resolve, reject) => {\n            this._stat(filepath, this._fsStatSettings, (error, stats) => {\n                return error === null ? resolve(stats) : reject(error);\n            });\n        });\n    }\n}\nexports.default = ReaderStream;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,QAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,kBAAD,CAAtB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,kBAAD,CAAtB;;AACA,MAAMG,QAAQ,GAAGH,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMI,YAAN,SAA2BD,QAAQ,CAACE,OAApC,CAA4C;EACxCC,WAAW,GAAG;IACV,MAAM,GAAGC,SAAT;IACA,KAAKC,WAAL,GAAmBN,MAAM,CAACO,UAA1B;IACA,KAAKC,KAAL,GAAaT,MAAM,CAACU,IAApB;EACH;;EACDC,OAAO,CAACC,IAAD,EAAOC,OAAP,EAAgB;IACnB,OAAO,KAAKN,WAAL,CAAiBK,IAAjB,EAAuBC,OAAvB,CAAP;EACH;;EACDC,MAAM,CAACC,QAAD,EAAWF,OAAX,EAAoB;IACtB,MAAMG,SAAS,GAAGD,QAAQ,CAACE,GAAT,CAAa,KAAKC,iBAAlB,EAAqC,IAArC,CAAlB;IACA,MAAMC,MAAM,GAAG,IAAIrB,QAAQ,CAACsB,WAAb,CAAyB;MAAEC,UAAU,EAAE;IAAd,CAAzB,CAAf;;IACAF,MAAM,CAACG,MAAP,GAAgB,CAACC,KAAD,EAAQC,IAAR,EAAcC,IAAd,KAAuB;MACnC,OAAO,KAAKC,SAAL,CAAeV,SAAS,CAACO,KAAD,CAAxB,EAAiCR,QAAQ,CAACQ,KAAD,CAAzC,EAAkDV,OAAlD,EACFc,IADE,CACIC,KAAD,IAAW;QACjB,IAAIA,KAAK,KAAK,IAAV,IAAkBf,OAAO,CAACgB,WAAR,CAAoBD,KAApB,CAAtB,EAAkD;UAC9CT,MAAM,CAACW,IAAP,CAAYF,KAAZ;QACH;;QACD,IAAIL,KAAK,KAAKP,SAAS,CAACe,MAAV,GAAmB,CAAjC,EAAoC;UAChCZ,MAAM,CAACa,GAAP;QACH;;QACDP,IAAI;MACP,CATM,EAUFQ,KAVE,CAUIR,IAVJ,CAAP;IAWH,CAZD;;IAaA,KAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,SAAS,CAACe,MAA9B,EAAsCG,CAAC,EAAvC,EAA2C;MACvCf,MAAM,CAACgB,KAAP,CAAaD,CAAb;IACH;;IACD,OAAOf,MAAP;EACH;;EACDO,SAAS,CAACU,QAAD,EAAWC,OAAX,EAAoBxB,OAApB,EAA6B;IAClC,OAAO,KAAKyB,QAAL,CAAcF,QAAd,EACFT,IADE,CACIY,KAAD,IAAW,KAAKC,UAAL,CAAgBD,KAAhB,EAAuBF,OAAvB,CADd,EAEFJ,KAFE,CAEKQ,KAAD,IAAW;MAClB,IAAI5B,OAAO,CAAC6B,WAAR,CAAoBD,KAApB,CAAJ,EAAgC;QAC5B,OAAO,IAAP;MACH;;MACD,MAAMA,KAAN;IACH,CAPM,CAAP;EAQH;;EACDH,QAAQ,CAACF,QAAD,EAAW;IACf,OAAO,IAAIO,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;MACpC,KAAKpC,KAAL,CAAW2B,QAAX,EAAqB,KAAKU,eAA1B,EAA2C,CAACL,KAAD,EAAQF,KAAR,KAAkB;QACzD,OAAOE,KAAK,KAAK,IAAV,GAAiBG,OAAO,CAACL,KAAD,CAAxB,GAAkCM,MAAM,CAACJ,KAAD,CAA/C;MACH,CAFD;IAGH,CAJM,CAAP;EAKH;;AA9CuC;;AAgD5C7C,OAAO,CAACQ,OAAR,GAAkBD,YAAlB"},"metadata":{},"sourceType":"script"}