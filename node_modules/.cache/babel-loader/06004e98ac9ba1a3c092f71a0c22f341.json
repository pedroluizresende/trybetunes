{"ast":null,"code":"'use strict';\n\nconst descriptionlessDisables = require('./descriptionlessDisables');\n\nconst invalidScopeDisables = require('./invalidScopeDisables');\n\nconst needlessDisables = require('./needlessDisables');\n\nconst reportDisables = require('./reportDisables');\n/** @typedef {import('stylelint').Formatter} Formatter */\n\n/** @typedef {import('stylelint').LintResult} StylelintResult */\n\n/** @typedef {import('stylelint').LinterOptions[\"maxWarnings\"]} maxWarnings */\n\n/** @typedef {import('stylelint').LinterResult} LinterResult */\n\n/**\n * @param {StylelintResult[]} stylelintResults\n * @param {maxWarnings} maxWarnings\n * @param {Formatter} formatter\n * @param {string} cwd\n *\n * @returns {LinterResult}\n */\n\n\nmodule.exports = function prepareReturnValue(stylelintResults, maxWarnings, formatter, cwd) {\n  reportDisables(stylelintResults);\n  needlessDisables(stylelintResults);\n  invalidScopeDisables(stylelintResults);\n  descriptionlessDisables(stylelintResults);\n  const errored = stylelintResults.some(result => result.errored || result.parseErrors.length > 0 || result.warnings.some(warning => warning.severity === 'error'));\n  /** @type {LinterResult} */\n\n  const returnValue = {\n    cwd,\n    errored,\n    results: [],\n    output: '',\n    reportedDisables: [],\n    ruleMetadata: getRuleMetadata(stylelintResults)\n  };\n\n  if (maxWarnings !== undefined) {\n    const foundWarnings = stylelintResults.reduce((count, file) => count + file.warnings.length, 0);\n\n    if (foundWarnings > maxWarnings) {\n      returnValue.maxWarningsExceeded = {\n        maxWarnings,\n        foundWarnings\n      };\n    }\n  }\n\n  returnValue.output = formatter(stylelintResults, returnValue);\n  returnValue.results = stylelintResults;\n  return returnValue;\n};\n/**\n * @param {StylelintResult[]} lintResults\n */\n\n\nfunction getRuleMetadata(lintResults) {\n  const [lintResult] = lintResults;\n  if (lintResult === undefined) return {};\n  if (lintResult._postcssResult === undefined) return {};\n  return lintResult._postcssResult.stylelint.ruleMetadata;\n}","map":{"version":3,"names":["descriptionlessDisables","require","invalidScopeDisables","needlessDisables","reportDisables","module","exports","prepareReturnValue","stylelintResults","maxWarnings","formatter","cwd","errored","some","result","parseErrors","length","warnings","warning","severity","returnValue","results","output","reportedDisables","ruleMetadata","getRuleMetadata","undefined","foundWarnings","reduce","count","file","maxWarningsExceeded","lintResults","lintResult","_postcssResult","stylelint"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/stylelint/lib/prepareReturnValue.js"],"sourcesContent":["'use strict';\n\nconst descriptionlessDisables = require('./descriptionlessDisables');\nconst invalidScopeDisables = require('./invalidScopeDisables');\nconst needlessDisables = require('./needlessDisables');\nconst reportDisables = require('./reportDisables');\n\n/** @typedef {import('stylelint').Formatter} Formatter */\n/** @typedef {import('stylelint').LintResult} StylelintResult */\n/** @typedef {import('stylelint').LinterOptions[\"maxWarnings\"]} maxWarnings */\n/** @typedef {import('stylelint').LinterResult} LinterResult */\n\n/**\n * @param {StylelintResult[]} stylelintResults\n * @param {maxWarnings} maxWarnings\n * @param {Formatter} formatter\n * @param {string} cwd\n *\n * @returns {LinterResult}\n */\nmodule.exports = function prepareReturnValue(stylelintResults, maxWarnings, formatter, cwd) {\n\treportDisables(stylelintResults);\n\tneedlessDisables(stylelintResults);\n\tinvalidScopeDisables(stylelintResults);\n\tdescriptionlessDisables(stylelintResults);\n\n\tconst errored = stylelintResults.some(\n\t\t(result) =>\n\t\t\tresult.errored ||\n\t\t\tresult.parseErrors.length > 0 ||\n\t\t\tresult.warnings.some((warning) => warning.severity === 'error'),\n\t);\n\n\t/** @type {LinterResult} */\n\tconst returnValue = {\n\t\tcwd,\n\t\terrored,\n\t\tresults: [],\n\t\toutput: '',\n\t\treportedDisables: [],\n\t\truleMetadata: getRuleMetadata(stylelintResults),\n\t};\n\n\tif (maxWarnings !== undefined) {\n\t\tconst foundWarnings = stylelintResults.reduce((count, file) => count + file.warnings.length, 0);\n\n\t\tif (foundWarnings > maxWarnings) {\n\t\t\treturnValue.maxWarningsExceeded = { maxWarnings, foundWarnings };\n\t\t}\n\t}\n\n\treturnValue.output = formatter(stylelintResults, returnValue);\n\treturnValue.results = stylelintResults;\n\n\treturn returnValue;\n};\n\n/**\n * @param {StylelintResult[]} lintResults\n */\nfunction getRuleMetadata(lintResults) {\n\tconst [lintResult] = lintResults;\n\n\tif (lintResult === undefined) return {};\n\n\tif (lintResult._postcssResult === undefined) return {};\n\n\treturn lintResult._postcssResult.stylelint.ruleMetadata;\n}\n"],"mappings":"AAAA;;AAEA,MAAMA,uBAAuB,GAAGC,OAAO,CAAC,2BAAD,CAAvC;;AACA,MAAMC,oBAAoB,GAAGD,OAAO,CAAC,wBAAD,CAApC;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,oBAAD,CAAhC;;AACA,MAAMG,cAAc,GAAGH,OAAO,CAAC,kBAAD,CAA9B;AAEA;;AACA;;AACA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAI,MAAM,CAACC,OAAP,GAAiB,SAASC,kBAAT,CAA4BC,gBAA5B,EAA8CC,WAA9C,EAA2DC,SAA3D,EAAsEC,GAAtE,EAA2E;EAC3FP,cAAc,CAACI,gBAAD,CAAd;EACAL,gBAAgB,CAACK,gBAAD,CAAhB;EACAN,oBAAoB,CAACM,gBAAD,CAApB;EACAR,uBAAuB,CAACQ,gBAAD,CAAvB;EAEA,MAAMI,OAAO,GAAGJ,gBAAgB,CAACK,IAAjB,CACdC,MAAD,IACCA,MAAM,CAACF,OAAP,IACAE,MAAM,CAACC,WAAP,CAAmBC,MAAnB,GAA4B,CAD5B,IAEAF,MAAM,CAACG,QAAP,CAAgBJ,IAAhB,CAAsBK,OAAD,IAAaA,OAAO,CAACC,QAAR,KAAqB,OAAvD,CAJc,CAAhB;EAOA;;EACA,MAAMC,WAAW,GAAG;IACnBT,GADmB;IAEnBC,OAFmB;IAGnBS,OAAO,EAAE,EAHU;IAInBC,MAAM,EAAE,EAJW;IAKnBC,gBAAgB,EAAE,EALC;IAMnBC,YAAY,EAAEC,eAAe,CAACjB,gBAAD;EANV,CAApB;;EASA,IAAIC,WAAW,KAAKiB,SAApB,EAA+B;IAC9B,MAAMC,aAAa,GAAGnB,gBAAgB,CAACoB,MAAjB,CAAwB,CAACC,KAAD,EAAQC,IAAR,KAAiBD,KAAK,GAAGC,IAAI,CAACb,QAAL,CAAcD,MAA/D,EAAuE,CAAvE,CAAtB;;IAEA,IAAIW,aAAa,GAAGlB,WAApB,EAAiC;MAChCW,WAAW,CAACW,mBAAZ,GAAkC;QAAEtB,WAAF;QAAekB;MAAf,CAAlC;IACA;EACD;;EAEDP,WAAW,CAACE,MAAZ,GAAqBZ,SAAS,CAACF,gBAAD,EAAmBY,WAAnB,CAA9B;EACAA,WAAW,CAACC,OAAZ,GAAsBb,gBAAtB;EAEA,OAAOY,WAAP;AACA,CAnCD;AAqCA;AACA;AACA;;;AACA,SAASK,eAAT,CAAyBO,WAAzB,EAAsC;EACrC,MAAM,CAACC,UAAD,IAAeD,WAArB;EAEA,IAAIC,UAAU,KAAKP,SAAnB,EAA8B,OAAO,EAAP;EAE9B,IAAIO,UAAU,CAACC,cAAX,KAA8BR,SAAlC,EAA6C,OAAO,EAAP;EAE7C,OAAOO,UAAU,CAACC,cAAX,CAA0BC,SAA1B,CAAoCX,YAA3C;AACA"},"metadata":{},"sourceType":"script"}