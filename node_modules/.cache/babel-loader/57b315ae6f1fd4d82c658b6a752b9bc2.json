{"ast":null,"code":"var _jsxFileName = \"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Search.jsx\";\nimport React, { Component } from 'react';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport styles from './Search.module.css';\nimport Loading from './Loading';\nimport AlbumsList from '../components/AlbumsList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isDisabledButtton: true,\n      searchInput: '',\n      albums: [],\n      artistName: '',\n      isLoading: false\n    };\n\n    this.handleChangle = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, () => {\n        if (value.length >= 2) {\n          this.setState({\n            isDisabledButtton: false\n          });\n        } else {\n          this.setState({\n            isDisabledButtton: true\n          });\n        }\n      });\n    };\n\n    this.searching = async e => {\n      e.preventDefault();\n      const {\n        searchInput\n      } = this.state;\n      this.setState({\n        searchInput: '',\n        albums: [],\n        artistName: searchInput,\n        isLoading: true\n      });\n      const fetchAlbuns = await searchAlbumsAPI(searchInput);\n      this.setState({\n        albums: fetchAlbuns,\n        isLoading: false\n      });\n    };\n  }\n\n  render() {\n    const {\n      isDisabledButtton,\n      searchInput,\n      albums,\n      artistName,\n      isLoading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: styles.search,\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: styles.searchForm,\n          onSubmit: event => this.searching(event),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"search-artist-input\",\n            name: \"searchInput\",\n            value: searchInput,\n            onChange: this.handleChangle,\n            placeholder: \"digite a sua pesquisa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            \"data-testid\": \"search-artist-button\",\n            disabled: isDisabledButtton,\n            children: \"Pesquisar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: styles.albumsSection,\n          children: isLoading ? /*#__PURE__*/_jsxDEV(Loading, {\n            header: false,\n            textColor: \"rgba(192, 195, 201, 1)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(AlbumsList, {\n            albums: albums,\n            artistName: artistName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"names":["React","Component","Header","searchAlbumsAPI","styles","Loading","AlbumsList","Search","state","isDisabledButtton","searchInput","albums","artistName","isLoading","handleChangle","target","name","value","setState","length","searching","e","preventDefault","fetchAlbuns","render","container","search","searchForm","event","albumsSection"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Search.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport styles from './Search.module.css';\nimport Loading from './Loading';\nimport AlbumsList from '../components/AlbumsList';\n\nclass Search extends Component {\n  state = {\n    isDisabledButtton: true,\n    searchInput: '',\n    albums: [],\n    artistName: '',\n    isLoading: false,\n  };\n\n  handleChangle = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, () => {\n      if (value.length >= 2) {\n        this.setState({\n          isDisabledButtton: false,\n        });\n      } else {\n        this.setState({\n          isDisabledButtton: true,\n        });\n      }\n    });\n  };\n\n  searching = async (e) => {\n    e.preventDefault();\n    const { searchInput } = this.state;\n    this.setState({\n      searchInput: '',\n      albums: [],\n      artistName: searchInput,\n      isLoading: true,\n    });\n    const fetchAlbuns = await searchAlbumsAPI(searchInput);\n    this.setState({\n      albums: fetchAlbuns,\n      isLoading: false,\n    });\n  };\n\n  render() {\n    const { isDisabledButtton, searchInput, albums, artistName, isLoading } = this.state;\n    return (\n      <div data-testid=\"page-search\" className={ styles.container }>\n        <Header />\n        <main className={ styles.search }>\n          <form\n            className={ styles.searchForm }\n            onSubmit={ (event) => this.searching(event) }\n          >\n            <input\n              type=\"text\"\n              data-testid=\"search-artist-input\"\n              name=\"searchInput\"\n              value={ searchInput }\n              onChange={ this.handleChangle }\n              placeholder=\"digite a sua pesquisa\"\n            />\n            <button\n              type=\"submit\"\n              data-testid=\"search-artist-button\"\n              disabled={ isDisabledButtton }\n            >\n              Pesquisar\n            </button>\n          </form>\n          <section className={ styles.albumsSection }>\n            {\n              isLoading\n                ? <Loading header={ false } textColor=\"rgba(192, 195, 201, 1)\" />\n                : (\n                  <AlbumsList\n                    albums={ albums }\n                    artistName={ artistName }\n                  />\n                )\n            }\n          </section>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}