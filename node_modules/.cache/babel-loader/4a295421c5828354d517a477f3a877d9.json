{"ast":null,"code":"'use strict';\n\nconst fs = require('fs');\n\nconst hash = require('./hash');\n\nconst path = require('path');\n/**\n * Return the cacheFile to be used by stylelint, based on whether the provided parameter is\n * a directory or looks like a directory (ends in `path.sep`), in which case the file\n * name will be `cacheFile/.cache_hashOfCWD`.\n *\n * If cacheFile points to a file or looks like a file, then it will just use that file.\n *\n * @param {string} cacheFile - The name of file to be used to store the cache\n * @param {string} cwd - Current working directory. Used for tests\n * @returns {string} Resolved path to the cache file\n */\n\n\nmodule.exports = function getCacheFile(cacheFile, cwd) {\n  /*\n   * Make sure path separators are normalized for environment/os.\n   * Also, keep trailing path separator if present.\n   */\n  cacheFile = path.normalize(cacheFile);\n  const resolvedCacheFile = path.resolve(cwd, cacheFile); // If the last character passed is a path separator, we assume is a directory.\n\n  const looksLikeADirectory = cacheFile[cacheFile.length - 1] === path.sep;\n  /**\n   * Return the default cache file name when provided parameter is a directory.\n   * @returns {string} - Resolved path to the cacheFile\n   */\n\n  function getCacheFileForDirectory() {\n    return path.join(resolvedCacheFile, `.stylelintcache_${hash(cwd)}`);\n  }\n\n  let fileStats;\n\n  try {\n    fileStats = fs.lstatSync(resolvedCacheFile);\n  } catch {\n    fileStats = null;\n  }\n\n  if (looksLikeADirectory || fileStats && fileStats.isDirectory()) {\n    // Return path to provided directory with generated file name.\n    return getCacheFileForDirectory();\n  } // Return normalized path to cache file.\n\n\n  return resolvedCacheFile;\n};","map":{"version":3,"names":["fs","require","hash","path","module","exports","getCacheFile","cacheFile","cwd","normalize","resolvedCacheFile","resolve","looksLikeADirectory","length","sep","getCacheFileForDirectory","join","fileStats","lstatSync","isDirectory"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/stylelint/lib/utils/getCacheFile.js"],"sourcesContent":["'use strict';\n\nconst fs = require('fs');\nconst hash = require('./hash');\nconst path = require('path');\n\n/**\n * Return the cacheFile to be used by stylelint, based on whether the provided parameter is\n * a directory or looks like a directory (ends in `path.sep`), in which case the file\n * name will be `cacheFile/.cache_hashOfCWD`.\n *\n * If cacheFile points to a file or looks like a file, then it will just use that file.\n *\n * @param {string} cacheFile - The name of file to be used to store the cache\n * @param {string} cwd - Current working directory. Used for tests\n * @returns {string} Resolved path to the cache file\n */\nmodule.exports = function getCacheFile(cacheFile, cwd) {\n\t/*\n\t * Make sure path separators are normalized for environment/os.\n\t * Also, keep trailing path separator if present.\n\t */\n\tcacheFile = path.normalize(cacheFile);\n\n\tconst resolvedCacheFile = path.resolve(cwd, cacheFile);\n\t// If the last character passed is a path separator, we assume is a directory.\n\tconst looksLikeADirectory = cacheFile[cacheFile.length - 1] === path.sep;\n\n\t/**\n\t * Return the default cache file name when provided parameter is a directory.\n\t * @returns {string} - Resolved path to the cacheFile\n\t */\n\tfunction getCacheFileForDirectory() {\n\t\treturn path.join(resolvedCacheFile, `.stylelintcache_${hash(cwd)}`);\n\t}\n\n\tlet fileStats;\n\n\ttry {\n\t\tfileStats = fs.lstatSync(resolvedCacheFile);\n\t} catch {\n\t\tfileStats = null;\n\t}\n\n\tif (looksLikeADirectory || (fileStats && fileStats.isDirectory())) {\n\t\t// Return path to provided directory with generated file name.\n\t\treturn getCacheFileForDirectory();\n\t}\n\n\t// Return normalized path to cache file.\n\treturn resolvedCacheFile;\n};\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,QAAD,CAApB;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAG,MAAM,CAACC,OAAP,GAAiB,SAASC,YAAT,CAAsBC,SAAtB,EAAiCC,GAAjC,EAAsC;EACtD;AACD;AACA;AACA;EACCD,SAAS,GAAGJ,IAAI,CAACM,SAAL,CAAeF,SAAf,CAAZ;EAEA,MAAMG,iBAAiB,GAAGP,IAAI,CAACQ,OAAL,CAAaH,GAAb,EAAkBD,SAAlB,CAA1B,CAPsD,CAQtD;;EACA,MAAMK,mBAAmB,GAAGL,SAAS,CAACA,SAAS,CAACM,MAAV,GAAmB,CAApB,CAAT,KAAoCV,IAAI,CAACW,GAArE;EAEA;AACD;AACA;AACA;;EACC,SAASC,wBAAT,GAAoC;IACnC,OAAOZ,IAAI,CAACa,IAAL,CAAUN,iBAAV,EAA8B,mBAAkBR,IAAI,CAACM,GAAD,CAAM,EAA1D,CAAP;EACA;;EAED,IAAIS,SAAJ;;EAEA,IAAI;IACHA,SAAS,GAAGjB,EAAE,CAACkB,SAAH,CAAaR,iBAAb,CAAZ;EACA,CAFD,CAEE,MAAM;IACPO,SAAS,GAAG,IAAZ;EACA;;EAED,IAAIL,mBAAmB,IAAKK,SAAS,IAAIA,SAAS,CAACE,WAAV,EAAzC,EAAmE;IAClE;IACA,OAAOJ,wBAAwB,EAA/B;EACA,CA9BqD,CAgCtD;;;EACA,OAAOL,iBAAP;AACA,CAlCD"},"metadata":{},"sourceType":"script"}