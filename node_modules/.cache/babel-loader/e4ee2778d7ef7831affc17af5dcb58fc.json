{"ast":null,"code":"import _regeneratorRuntime from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import Header from'../components/Header';import{getUser}from'../services/userAPI';import Loading from'./Loading';import styles from'./Profile.module.css';import emptyUserPhoto from'../images/emptyUserPhoto.webp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={userName:'',userEmail:'',userImage:'',userDescription:'',requestIsDone:true};_this.fetchUser=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({requestIsDone:false});_context.next=3;return getUser();case 3:user=_context.sent;console.log(user);_this.setState({userName:user.name,userEmail:user.email,userImage:user.image,userDescription:user.description,requestIsDone:true});case 6:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchUser();}},{key:\"render\",value:function render(){var _this$state=this.state,userName=_this$state.userName,userEmail=_this$state.userEmail,userDescription=_this$state.userDescription,userImage=_this$state.userImage,requestIsDone=_this$state.requestIsDone;return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"page-profile\",className:styles.container,children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"section\",{className:styles.perfil,children:[/*#__PURE__*/_jsx(\"header\",{children:userImage===''?/*#__PURE__*/_jsx(\"img\",{className:styles.userPhoto,src:emptyUserPhoto,alt:\"user\",\"data-testid\":\"profile-image\"}):/*#__PURE__*/_jsx(\"img\",{className:styles.userPhoto,src:userImage,alt:\"Foto do usu\\xE1rio\",\"data-testid\":\"profile-image\"})}),/*#__PURE__*/_jsxs(\"section\",{className:styles.profileInfos,children:[!requestIsDone&&/*#__PURE__*/_jsx(Loading,{header:false,textColor:\"rgba(192, 195, 201, 1)\"}),requestIsDone&&/*#__PURE__*/_jsxs(\"section\",{className:styles.infos,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nome:\"}),/*#__PURE__*/_jsx(\"p\",{children:userName})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"p\",{children:userEmail})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Descri\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"p\",{children:userDescription})]}),/*#__PURE__*/_jsx(Link,{to:\"/profile/edit\",children:\"Editar perfil\"})]})]})]})]});}}]);return Profile;}(Component);export default Profile;","map":{"version":3,"names":["React","Component","Link","Header","getUser","Loading","styles","emptyUserPhoto","Profile","state","userName","userEmail","userImage","userDescription","requestIsDone","fetchUser","setState","user","console","log","name","email","image","description","container","perfil","userPhoto","profileInfos","infos"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Profile.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport { getUser } from '../services/userAPI';\nimport Loading from './Loading';\nimport styles from './Profile.module.css';\nimport emptyUserPhoto from '../images/emptyUserPhoto.webp';\n\nclass Profile extends Component {\n  state = {\n    userName: '',\n    userEmail: '',\n    userImage: '',\n    userDescription: '',\n    requestIsDone: true,\n  };\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  fetchUser = async () => {\n    this.setState({\n      requestIsDone: false,\n    });\n    const user = await getUser();\n    console.log(user);\n    this.setState({\n      userName: user.name,\n      userEmail: user.email,\n      userImage: user.image,\n      userDescription: user.description,\n      requestIsDone: true,\n    });\n  };\n\n  render() {\n    const { userName, userEmail, userDescription, userImage, requestIsDone } = this.state;\n\n    return (\n      <div data-testid=\"page-profile\" className={ styles.container }>\n        <Header />\n        <section className={ styles.perfil }>\n          <header>\n            {\n              userImage === ''\n                ? (\n                  <img\n                    className={ styles.userPhoto }\n                    src={ emptyUserPhoto }\n                    alt=\"user\"\n                    data-testid=\"profile-image\"\n                  />\n                )\n                : (\n                  <img\n                    className={ styles.userPhoto }\n                    src={ userImage }\n                    alt=\"Foto do usuário\"\n                    data-testid=\"profile-image\"\n                  />\n                )\n            }\n          </header>\n          <section className={ styles.profileInfos }>\n            {\n              !requestIsDone && <Loading\n                header={ false }\n                textColor=\"rgba(192, 195, 201, 1)\"\n              />\n            }\n\n            {\n              requestIsDone\n              && (\n                <section className={ styles.infos }>\n                  <div>\n                    <h3>Nome:</h3>\n                    <p>{ userName }</p>\n                  </div>\n                  <div>\n                    <h3>Email:</h3>\n                    <p>{ userEmail }</p>\n                  </div>\n                  <div>\n                    <h3>Descrição:</h3>\n                    <p>{ userDescription }</p>\n                  </div>\n                  <Link to=\"/profile/edit\">Editar perfil</Link>\n                </section>\n              )\n            }\n          </section>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n"],"mappings":"w6BAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,QAAP,KAAoB,WAApB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,eAAP,KAA2B,+BAA3B,C,2FAEMC,Q,+TACJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,SAAS,CAAE,EAFL,CAGNC,SAAS,CAAE,EAHL,CAINC,eAAe,CAAE,EAJX,CAKNC,aAAa,CAAE,IALT,C,OAYRC,S,wEAAY,8IACV,MAAKC,QAAL,CAAc,CACZF,aAAa,CAAE,KADH,CAAd,EADU,sBAISV,QAAO,EAJhB,QAIJa,IAJI,eAKVC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAKD,QAAL,CAAc,CACZN,QAAQ,CAAEO,IAAI,CAACG,IADH,CAEZT,SAAS,CAAEM,IAAI,CAACI,KAFJ,CAGZT,SAAS,CAAEK,IAAI,CAACK,KAHJ,CAIZT,eAAe,CAAEI,IAAI,CAACM,WAJV,CAKZT,aAAa,CAAE,IALH,CAAd,EANU,sD,sEAJZ,4BAAoB,CAClB,KAAKC,SAAL,GACD,C,sBAiBD,iBAAS,CACP,gBAA2E,KAAKN,KAAhF,CAAQC,QAAR,aAAQA,QAAR,CAAkBC,SAAlB,aAAkBA,SAAlB,CAA6BE,eAA7B,aAA6BA,eAA7B,CAA8CD,SAA9C,aAA8CA,SAA9C,CAAyDE,aAAzD,aAAyDA,aAAzD,CAEA,mBACE,aAAK,cAAY,cAAjB,CAAgC,SAAS,CAAGR,MAAM,CAACkB,SAAnD,wBACE,KAAC,MAAD,IADF,cAEE,iBAAS,SAAS,CAAGlB,MAAM,CAACmB,MAA5B,wBACE,wBAEIb,SAAS,GAAK,EAAd,cAEI,YACE,SAAS,CAAGN,MAAM,CAACoB,SADrB,CAEE,GAAG,CAAGnB,cAFR,CAGE,GAAG,CAAC,MAHN,CAIE,cAAY,eAJd,EAFJ,cAUI,YACE,SAAS,CAAGD,MAAM,CAACoB,SADrB,CAEE,GAAG,CAAGd,SAFR,CAGE,GAAG,CAAC,oBAHN,CAIE,cAAY,eAJd,EAZR,EADF,cAsBE,iBAAS,SAAS,CAAGN,MAAM,CAACqB,YAA5B,WAEI,CAACb,aAAD,eAAkB,KAAC,OAAD,EAChB,MAAM,CAAG,KADO,CAEhB,SAAS,CAAC,wBAFM,EAFtB,CASIA,aAAa,eAEX,iBAAS,SAAS,CAAGR,MAAM,CAACsB,KAA5B,wBACE,oCACE,6BADF,cAEE,mBAAKlB,QAAL,EAFF,GADF,cAKE,oCACE,8BADF,cAEE,mBAAKC,SAAL,EAFF,GALF,cASE,oCACE,wCADF,cAEE,mBAAKE,eAAL,EAFF,GATF,cAaE,KAAC,IAAD,EAAM,EAAE,CAAC,eAAT,2BAbF,GAXN,GAtBF,GAFF,GADF,CAyDD,C,qBAxFmBZ,S,EA2FtB,cAAeO,QAAf"},"metadata":{},"sourceType":"module"}