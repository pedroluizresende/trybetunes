{"ast":null,"code":"import _regeneratorRuntime from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import{IoIosSearch}from'react-icons/io';import{CiStar}from'react-icons/ci';import{RxAvatar}from'react-icons/rx';import{getUser}from'../services/userAPI';import Loading from'../pages/Loading';import logo from'../images/logo.png';import styles from'./Header.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=/*#__PURE__*/function(_Component){_inherits(Header,_Component);var _super=_createSuper(Header);function Header(){var _this;_classCallCheck(this,Header);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={userName:'',completedRequisition:false};_this.fetchName=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var name;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUser();case 2:name=_context.sent;return _context.abrupt(\"return\",name.name);case 4:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Header,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var usrName;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.fetchName();case 2:usrName=_context2.sent;this.setState({userName:usrName,completedRequisition:true});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,userName=_this$state.userName,completedRequisition=_this$state.completedRequisition;var curPage=window.location.pathname;return/*#__PURE__*/_jsxs(\"header\",{\"data-testid\":\"header-component\",className:styles.header,children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:logo,className:styles.headerLogo}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/search\",\"data-testid\":\"link-to-search\",className:curPage==='/search'?styles.active:'',children:[/*#__PURE__*/_jsx(IoIosSearch,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Pesquisa\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/favorites\",\"data-testid\":\"link-to-favorites\",className:curPage==='/favorites'?styles.active:'',children:[/*#__PURE__*/_jsx(CiStar,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Favoritos\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/profile\",\"data-testid\":\"link-to-profile\",className:curPage==='/profile'?styles.active:'',children:[/*#__PURE__*/_jsx(RxAvatar,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Perfil\"})]})]}),completedRequisition?/*#__PURE__*/_jsxs(\"h1\",{\"data-testid\":\"header-user-name\",className:styles.userName,children:[/*#__PURE__*/_jsx(RxAvatar,{}),userName]}):/*#__PURE__*/_jsx(Loading,{header:true,textColor:\"rgb(0, 59, 229, 1)\"})]});}}]);return Header;}(Component);export default Header;","map":{"version":3,"names":["React","Component","Link","IoIosSearch","CiStar","RxAvatar","getUser","Loading","logo","styles","Header","state","userName","completedRequisition","fetchName","name","usrName","setState","curPage","window","location","pathname","header","headerLogo","active"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/components/Header.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoIosSearch } from 'react-icons/io';\nimport { CiStar } from 'react-icons/ci';\nimport { RxAvatar } from 'react-icons/rx';\nimport { getUser } from '../services/userAPI';\nimport Loading from '../pages/Loading';\nimport logo from '../images/logo.png';\nimport styles from './Header.module.css';\n\nclass Header extends Component {\n  state = {\n    userName: '',\n    completedRequisition: false,\n  };\n\n  async componentDidMount() {\n    const usrName = await this.fetchName();\n\n    this.setState({\n      userName: usrName,\n      completedRequisition: true,\n    });\n  }\n\n  fetchName = async () => {\n    const name = await getUser();\n    return name.name;\n  };\n\n  render() {\n    const { userName, completedRequisition } = this.state;\n    const curPage = window.location.pathname;\n    return (\n      <header data-testid=\"header-component\" className={ styles.header }>\n        <img src={ logo } alt={ logo } className={ styles.headerLogo } />\n\n        <nav>\n          <Link\n            to=\"/search\"\n            data-testid=\"link-to-search\"\n            className={ curPage === '/search' ? styles.active : '' }\n          >\n            <IoIosSearch />\n            <p>\n              Pesquisa\n            </p>\n          </Link>\n          <Link\n            to=\"/favorites\"\n            data-testid=\"link-to-favorites\"\n            className={ curPage === '/favorites' ? styles.active : '' }\n          >\n            <CiStar />\n            <p>\n              Favoritos\n            </p>\n          </Link>\n          <Link\n            to=\"/profile\"\n            data-testid=\"link-to-profile\"\n            className={ curPage === '/profile' ? styles.active : '' }\n          >\n            <RxAvatar />\n            <p>\n              Perfil\n            </p>\n          </Link>\n        </nav>\n        {completedRequisition\n          ? (\n            <h1 data-testid=\"header-user-name\" className={ styles.userName }>\n              <RxAvatar />\n              {userName}\n            </h1>\n          )\n          : <Loading header textColor=\"rgb(0, 59, 229, 1)\" />}\n      </header>\n    );\n  }\n}\n\nexport default Header;\n"],"mappings":"w6BAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,KAA4B,gBAA5B,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,QAAP,KAAoB,kBAApB,CACA,MAAOC,KAAP,KAAiB,oBAAjB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,C,2FAEMC,O,2TACJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,oBAAoB,CAAE,KAFhB,C,OAcRC,S,wEAAY,oKACSR,QAAO,EADhB,QACJS,IADI,+CAEHA,IAAI,CAACA,IAFF,wD,iKATZ,6KACwB,MAAKD,SAAL,EADxB,QACQE,OADR,gBAGE,KAAKC,QAAL,CAAc,CACZL,QAAQ,CAAEI,OADE,CAEZH,oBAAoB,CAAE,IAFV,CAAd,EAHF,6D,mIAcA,iBAAS,CACP,gBAA2C,KAAKF,KAAhD,CAAQC,QAAR,aAAQA,QAAR,CAAkBC,oBAAlB,aAAkBA,oBAAlB,CACA,GAAMK,QAAO,CAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhC,CACA,mBACE,gBAAQ,cAAY,kBAApB,CAAuC,SAAS,CAAGZ,MAAM,CAACa,MAA1D,wBACE,YAAK,GAAG,CAAGd,IAAX,CAAkB,GAAG,CAAGA,IAAxB,CAA+B,SAAS,CAAGC,MAAM,CAACc,UAAlD,EADF,cAGE,oCACE,MAAC,IAAD,EACE,EAAE,CAAC,SADL,CAEE,cAAY,gBAFd,CAGE,SAAS,CAAGL,OAAO,GAAK,SAAZ,CAAwBT,MAAM,CAACe,MAA/B,CAAwC,EAHtD,wBAKE,KAAC,WAAD,IALF,cAME,+BANF,GADF,cAWE,MAAC,IAAD,EACE,EAAE,CAAC,YADL,CAEE,cAAY,mBAFd,CAGE,SAAS,CAAGN,OAAO,GAAK,YAAZ,CAA2BT,MAAM,CAACe,MAAlC,CAA2C,EAHzD,wBAKE,KAAC,MAAD,IALF,cAME,gCANF,GAXF,cAqBE,MAAC,IAAD,EACE,EAAE,CAAC,UADL,CAEE,cAAY,iBAFd,CAGE,SAAS,CAAGN,OAAO,GAAK,UAAZ,CAAyBT,MAAM,CAACe,MAAhC,CAAyC,EAHvD,wBAKE,KAAC,QAAD,IALF,cAME,6BANF,GArBF,GAHF,CAmCGX,oBAAoB,cAEjB,YAAI,cAAY,kBAAhB,CAAmC,SAAS,CAAGJ,MAAM,CAACG,QAAtD,wBACE,KAAC,QAAD,IADF,CAEGA,QAFH,GAFiB,cAOjB,KAAC,OAAD,EAAS,MAAM,KAAf,CAAgB,SAAS,CAAC,oBAA1B,EA1CN,GADF,CA8CD,C,oBArEkBX,S,EAwErB,cAAeS,OAAf"},"metadata":{},"sourceType":"module"}