{"ast":null,"code":"var _jsxFileName = \"/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Search.jsx\";\nimport React, { Component } from 'react';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport CardAlbum from '../components/CardAlbum';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isDisabledButtton: true,\n      searchInput: '',\n      albuns: [],\n      artistName: ''\n    };\n\n    this.handleChangle = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, () => {\n        if (value.length >= 2) {\n          this.setState({\n            isDisabledButtton: false\n          });\n        } else {\n          this.setState({\n            isDisabledButtton: true\n          });\n        }\n      });\n    };\n\n    this.searching = async () => {\n      const {\n        searchInput\n      } = this.state;\n      this.setState({\n        searchInput: '',\n        albuns: [],\n        artistName: searchInput\n      });\n      const fetchAlbuns = await searchAlbumsAPI(searchInput);\n      this.setState({\n        albuns: fetchAlbuns\n      });\n    };\n  }\n\n  render() {\n    const {\n      isDisabledButtton,\n      searchInput,\n      albuns,\n      artistName\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      className: \"search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          \"data-testid\": \"search-artist-input\",\n          name: \"searchInput\",\n          value: searchInput,\n          onChange: this.handleChangle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-testid\": \"search-artist-button\",\n          disabled: isDisabledButtton,\n          onClick: this.searching,\n          children: \"Pesquisar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: `Resultado de álbuns de: ${artistName}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"albuns-list\",\n        children: albuns.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nenhum \\xE1lbum foi encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this) : albuns.map(album => /*#__PURE__*/_jsxDEV(CardAlbum, {\n          albumImg: album.artworkUrl100,\n          albumName: album.collectionName,\n          artistName: album.artistName,\n          collectionId: album.collectionId\n        }, album.collectionId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"names":["React","Component","Header","searchAlbumsAPI","CardAlbum","Search","state","isDisabledButtton","searchInput","albuns","artistName","handleChangle","target","name","value","setState","length","searching","fetchAlbuns","render","map","album","artworkUrl100","collectionName","collectionId"],"sources":["/home/pedroresende/projetos/trybe/frontend/sd-026-b-project-trybetunes/src/pages/Search.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport CardAlbum from '../components/CardAlbum';\n\nclass Search extends Component {\n  state = {\n    isDisabledButtton: true,\n    searchInput: '',\n    albuns: [],\n    artistName: '',\n  };\n\n  handleChangle = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, () => {\n      if (value.length >= 2) {\n        this.setState({\n          isDisabledButtton: false,\n        });\n      } else {\n        this.setState({\n          isDisabledButtton: true,\n        });\n      }\n    });\n  };\n\n  searching = async () => {\n    const { searchInput } = this.state;\n    this.setState({\n      searchInput: '',\n      albuns: [],\n      artistName: searchInput,\n    });\n    const fetchAlbuns = await searchAlbumsAPI(searchInput);\n    this.setState({\n      albuns: fetchAlbuns,\n    });\n  };\n\n  render() {\n    const { isDisabledButtton, searchInput, albuns, artistName } = this.state;\n    return (\n      <div data-testid=\"page-search\" className=\"search\">\n        <Header />\n        <form>\n          <input\n            type=\"text\"\n            data-testid=\"search-artist-input\"\n            name=\"searchInput\"\n            value={ searchInput }\n            onChange={ this.handleChangle }\n          />\n          <button\n            type=\"button\"\n            data-testid=\"search-artist-button\"\n            disabled={ isDisabledButtton }\n            onClick={ this.searching }\n          >\n            Pesquisar\n          </button>\n        </form>\n        <section>\n          <h2>{ `Resultado de álbuns de: ${artistName}`}</h2>\n        </section>\n        <ul className=\"albuns-list\">\n          {\n            albuns.length === 0\n              ? <p>Nenhum álbum foi encontrado</p>\n              : albuns.map((album) => (\n                <CardAlbum\n                  key={ album.collectionId }\n                  albumImg={ album.artworkUrl100 }\n                  albumName={ album.collectionName }\n                  artistName={ album.artistName }\n                  collectionId={ album.collectionId }\n                />\n              ))\n          }\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;;;AAEA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;EAAA;IAAA;IAAA,KAC7BK,KAD6B,GACrB;MACNC,iBAAiB,EAAE,IADb;MAENC,WAAW,EAAE,EAFP;MAGNC,MAAM,EAAE,EAHF;MAINC,UAAU,EAAE;IAJN,CADqB;;IAAA,KAQ7BC,aAR6B,GAQb,QAAgB;MAAA,IAAf;QAAEC;MAAF,CAAe;MAC9B,MAAM;QAAEC,IAAF;QAAQC;MAAR,IAAkBF,MAAxB;MACA,KAAKG,QAAL,CAAc;QACZ,CAACF,IAAD,GAAQC;MADI,CAAd,EAEG,MAAM;QACP,IAAIA,KAAK,CAACE,MAAN,IAAgB,CAApB,EAAuB;UACrB,KAAKD,QAAL,CAAc;YACZR,iBAAiB,EAAE;UADP,CAAd;QAGD,CAJD,MAIO;UACL,KAAKQ,QAAL,CAAc;YACZR,iBAAiB,EAAE;UADP,CAAd;QAGD;MACF,CAZD;IAaD,CAvB4B;;IAAA,KAyB7BU,SAzB6B,GAyBjB,YAAY;MACtB,MAAM;QAAET;MAAF,IAAkB,KAAKF,KAA7B;MACA,KAAKS,QAAL,CAAc;QACZP,WAAW,EAAE,EADD;QAEZC,MAAM,EAAE,EAFI;QAGZC,UAAU,EAAEF;MAHA,CAAd;MAKA,MAAMU,WAAW,GAAG,MAAMf,eAAe,CAACK,WAAD,CAAzC;MACA,KAAKO,QAAL,CAAc;QACZN,MAAM,EAAES;MADI,CAAd;IAGD,CApC4B;EAAA;;EAsC7BC,MAAM,GAAG;IACP,MAAM;MAAEZ,iBAAF;MAAqBC,WAArB;MAAkCC,MAAlC;MAA0CC;IAA1C,IAAyD,KAAKJ,KAApE;IACA,oBACE;MAAK,eAAY,aAAjB;MAA+B,SAAS,EAAC,QAAzC;MAAA,wBACE,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,wBACE;UACE,IAAI,EAAC,MADP;UAEE,eAAY,qBAFd;UAGE,IAAI,EAAC,aAHP;UAIE,KAAK,EAAGE,WAJV;UAKE,QAAQ,EAAG,KAAKG;QALlB;UAAA;UAAA;UAAA;QAAA,QADF,eAQE;UACE,IAAI,EAAC,QADP;UAEE,eAAY,sBAFd;UAGE,QAAQ,EAAGJ,iBAHb;UAIE,OAAO,EAAG,KAAKU,SAJjB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAmBE;QAAA,uBACE;UAAA,UAAO,2BAA0BP,UAAW;QAA5C;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAnBF,eAsBE;QAAI,SAAS,EAAC,aAAd;QAAA,UAEID,MAAM,CAACO,MAAP,KAAkB,CAAlB,gBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,GAEIP,MAAM,CAACW,GAAP,CAAYC,KAAD,iBACX,QAAC,SAAD;UAEE,QAAQ,EAAGA,KAAK,CAACC,aAFnB;UAGE,SAAS,EAAGD,KAAK,CAACE,cAHpB;UAIE,UAAU,EAAGF,KAAK,CAACX,UAJrB;UAKE,YAAY,EAAGW,KAAK,CAACG;QALvB,GACQH,KAAK,CAACG,YADd;UAAA;UAAA;UAAA;QAAA,QADA;MAJR;QAAA;QAAA;QAAA;MAAA,QAtBF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAwCD;;AAhF4B;;AAmF/B,eAAenB,MAAf"},"metadata":{},"sourceType":"module"}